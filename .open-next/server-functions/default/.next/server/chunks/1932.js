exports.id=1932,exports.ids=[1932],exports.modules={2481:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,27532,23))},9799:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f}),c(75338);var d=c(97523);let e={size:{width:1200,height:630},contentType:"image/png"};async function f(a){let{__metadata_id__:b,...c}=await a.params,f=(0,d.fillMetadataSegment)(".",c,"opengraph-image"),{generateImageMetadata:g}=e;function h(a,b){let c={alt:a.alt,type:a.contentType||"image/png",url:f+(b?"/"+b:"")+"?2f4f58a554f19e4c"},{size:d}=a;return d&&(c.width=d.width,c.height=d.height),c}return g?(await g({params:c})).map((a,b)=>{let c=(a.id||b)+"";return h(a,c)}):[h(e,"")]}},33048:(a,b,c)=>{"use strict";c.d(b,{BlogVideoBackground:()=>h,default:()=>g});var d=c(21124),e=c(38301);function f({videoSrc:a,pixelSize:b=4,ditherStrength:c=1,className:f="",maxWidth:g=640}){let h=(0,e.useRef)(null),i=(0,e.useRef)(null),j=(0,e.useRef)(0),k=(0,e.useRef)(null),l=(0,e.useRef)(null),m=(0,e.useRef)(null),n=(0,e.useRef)(!1),o=(0,e.useRef)(0),p=(0,e.useRef)(0),q=(0,e.useRef)(0),[r,s]=(0,e.useState)(!1),t=(0,e.useRef)(null);(0,e.useRef)(0);let[u,v]=(0,e.useState)(!1);(0,e.useCallback)(()=>()=>{},[]);let w=(0,e.useCallback)((a,b,d,e=!1)=>{let f=a.data,g=b*d;l.current&&l.current.length===g||(l.current=new Float32Array(g));let h=l.current;h.fill(0);for(let a=0;a<f.length;a+=4){let d,g=.299*f[a]+.587*f[a+1]+.114*f[a+2];h[a>>2]=g,d=e?g<128+((a/4%b+Math.floor(a/4/b))%2-.5)*c*10?0:255:g<128+(Math.random()-.5)*c*20?0:255,f[a]=f[a+1]=f[a+2]=d,f[a+3]=255}return a},[c]),x=(0,e.useCallback)(()=>{let a;if(r||u)return;let c=h.current,d=i.current;if(!c||!d||n.current)return;if(n.current=!0,c.paused||c.ended){n.current=!1;return}let e=c.videoWidth,f=c.videoHeight;if(0===e||0===f||(q.current++,q.current%4!=0)){n.current=!1,j.current=requestAnimationFrame(x);return}let l=Math.min(e,g),m=Math.floor(f*l/e);(d.width!==l||d.height!==m)&&(d.width=l,d.height=m,k.current=null),k.current||(k.current=d.getContext("2d",{willReadFrequently:!0,alpha:!1}));let o=k.current;if(!o){n.current=!1;return}let p=Math.floor(l/b),s=Math.floor(m/b);if(p<1||s<1){n.current=!1,j.current=requestAnimationFrame(x);return}try{o.drawImage(c,0,0,p,s),a=o.getImageData(0,0,p,s)}catch(a){console.warn("Canvas manipulation blocked due to CORS policy:",a),v(!0),n.current=!1;return}let y=w(a,p,s,r);o.putImageData(y,0,0),r&&(t.current=y),o.imageSmoothingEnabled=!1,o.drawImage(d,0,0,p,s,0,0,l,m),n.current=!1,j.current=requestAnimationFrame(x)},[b,g,w,r,u]);return(0,e.useCallback)(()=>{n.current||r||u||(q.current=0,x())},[x,r,u]),(0,e.useCallback)(()=>{let a=h.current;!a||a.paused||n.current||r||u||(q.current=0,x())},[x,r,u]),(0,e.useCallback)(()=>{let a=h.current;a&&a.loop&&!r&&!u&&(o.current=0,q.current=0,setTimeout(()=>{a.paused||n.current||x()},16))},[x,r,u]),(0,e.useCallback)(()=>{if(j.current&&(cancelAnimationFrame(j.current),j.current=0),k.current){let a=i.current;a&&k.current.clearRect(0,0,a.width,a.height),k.current=null}l.current&&(l.current=null),n.current=!1,o.current=0,q.current=0,p.current=0,m.current=null},[]),(0,e.useCallback)(()=>{let a=i.current;if(!a)return;let b=a.getContext("2d");if(!b)return;a.width=640,a.height=360;let d=b.createImageData(640,360),e=d.data;for(let a=0;a<e.length;a+=4){let b=a/4%640,d=Math.floor(a/4/640),f=(b+d)%2,g=128+50*f+Math.sin(.1*b)*Math.cos(.1*d)*9<128+(f-.5)*c*10?0:255;e[a]=e[a+1]=e[a+2]=g,e[a+3]=255}b.putImageData(d,0,0)},[c]),(0,d.jsxs)("div",{className:`relative ${f}`,children:[(0,d.jsx)("video",{ref:h,src:a,crossOrigin:"anonymous",className:`absolute inset-0 w-full h-full object-cover ${u?"opacity-50":"invisible"} ${r?"reduced-motion":""}`,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onError:a=>{console.error("Video error:",a),v(!0)},onLoadStart:()=>console.log("Video loading started"),onLoadedMetadata:()=>console.log("Video metadata loaded")}),(0,d.jsx)("canvas",{ref:i,className:"absolute inset-0 w-full h-full object-cover",style:{imageRendering:"pixelated"}}),u&&(0,d.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 text-white text-sm opacity-75",children:"Video filter unavailable (CORS)"})]})}function g(){return(0,d.jsx)(f,{videoSrc:"https://wh9xsi1isi.ufs.sh/f/3pCuYtORE70iQcTd1tzKQmgchpDLvW6HRVeJosuUikOnjwbf",pixelSize:3,maxFPS:12,maxWidth:1e3,className:"fixed inset-0 w-screen h-screen object-cover -z-10 invert dark:invert-0"})}function h(){return(0,d.jsx)(f,{videoSrc:"https://wh9xsi1isi.ufs.sh/f/3pCuYtORE70iFh1vC2kQTmgCPNMpYynkzK4WXJelbq527Zjo",pixelSize:4,maxFPS:12,maxWidth:1e3,className:"fixed inset-0 w-screen h-screen object-cover -z-10 invert dark:invert-0"})}},42325:(a,b,c)=>{"use strict";c.d(b,{Mc:()=>f,Vu:()=>h,qM:()=>g});var d=c(1106),e=c(87447);let f=new d.Kj({handler:(0,d.b6)({service:e._.NEXT_PUBLIC_BSKY_PDS})});async function g(a){let b=await fetch(`https://slingshot.mmatt.net/xrpc/com.bad-example.identity.resolveMiniDoc?identifier=${encodeURIComponent(a)}`);if(!b.ok)throw Error(`Failed to resolve DID ${a}: ${b.statusText}`);let c=await b.json();if(!c.pds)throw Error(`No PDS found for DID ${a}`);return c.pds}function h(a){return new d.Kj({handler:(0,d.b6)({service:a})})}},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>k,metadata:()=>i,viewport:()=>j});var d=c(75338),e=c(91161),f=c(59726),g=c.n(f),h=c(11167);c(61135);let i={metadataBase:new URL("https://mmatt.net"),title:"mmatt.net",description:"<_< ^_^ >_>",alternates:{canonical:"https://mmatt.net",types:{"application/rss+xml":"https://mmatt.net/rss"}},other:{"fediverse:creator":"@matt@social.lol"}},j={themeColor:{color:"#BEFCFF",media:"not screen"}};function k({children:a}){return(0,d.jsxs)("html",{lang:"en",children:[(0,d.jsx)("head",{children:(0,d.jsx)(e.Ay,{domain:"mmatt.net",customDomain:"https://plausible.mmatt.net",trackOutboundLinks:!0,selfHosted:!0})}),(0,d.jsx)("body",{className:(0,h.QP)(g().variable,"antialiased font-sans"),children:a})]})}},53300:(a,b,c)=>{"use strict";c.d(b,{A:()=>g});var d=c(21124),e=c(3991),f=c.n(e);function g({href:a,children:b,target:c,rel:e,className:g=""}){let h=a.startsWith("http")||a.startsWith("mailto:"),i=`underline bg-white dark:bg-black hover:text-white hover:bg-black dark:hover:text-black dark:hover:bg-white ${g}`;return h?(0,d.jsx)("a",{href:a,target:c||"_blank",rel:e||"noopener noreferrer",className:i,children:b}):(0,d.jsx)(f(),{href:a,className:i,children:b})}},54185:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},61135:()=>{},69939:(a,b,c)=>{"use strict";c.d(b,{BlogVideoBackground:()=>f,default:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/matt/dev/mmattbtw/website/src/components/home-video-background.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/matt/dev/mmattbtw/website/src/components/home-video-background.tsx","default"),f=(0,d.registerClientReference)(function(){throw Error("Attempted to call BlogVideoBackground() from the server but BlogVideoBackground is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/matt/dev/mmattbtw/website/src/components/home-video-background.tsx","BlogVideoBackground")},70440:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(97523);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},82468:(a,b,c)=>{"use strict";c.d(b,{K5:()=>h,TW:()=>o,f5:()=>n,h:()=>k});var d=c(1106),e=c(42325),f=c(87447);let g=["at://did:plc:iwhuynr6mm6xxuh25o4do2tx/pub.leaflet.document/3lzlwe6puis2l"];async function h(){let a=await (0,d.ok)(e.Mc.get("com.atproto.repo.listRecords",{params:{repo:f._.NEXT_PUBLIC_BSKY_DID,collection:"com.whtwnd.blog.entry"}})),b=await (0,d.ok)(e.Mc.get("com.atproto.repo.listRecords",{params:{repo:f._.NEXT_PUBLIC_BSKY_DID,collection:"pub.leaflet.document"}})),c=a.records?.filter(l)??[],h=b.records?.filter(m)??[],i=await Promise.all(g.map(async a=>{try{return await j(a)}catch(b){return console.error(`Failed to fetch external post ${a}:`,b),null}}));return[...c.map(a=>({type:"whitewind",value:a.value,uri:a.uri,cid:a.cid,isExternal:!1})),...h.map(a=>({type:"leaflet",value:a.value,uri:a.uri,cid:a.cid,isExternal:!1})),...i.filter(a=>null!==a)]}function i(a){let b=a.match(/^at:\/\/(did:[^/]+)\/([^/]+)\/([^/]+)$/);if(!b)throw Error(`Invalid AT URI: ${a}`);return{did:b[1],collection:b[2],rkey:b[3]}}async function j(a){let{did:b,collection:c,rkey:f}=i(a),g=await (0,e.qM)(b),h=(0,e.Vu)(g);if("pub.leaflet.document"===c){let a,c=await (0,d.ok)(h.get("com.atproto.repo.getRecord",{params:{repo:b,rkey:f,collection:"pub.leaflet.document"}})),g=c.value;if(g.publication)try{let b=i(g.publication),c=await (0,e.qM)(b.did),f=(0,e.Vu)(c);a=(await (0,d.ok)(f.get("com.atproto.repo.getRecord",{params:{repo:b.did,rkey:b.rkey,collection:"pub.leaflet.publication"}}))).value.base_path}catch{}return{type:"leaflet",value:g,uri:c.uri,cid:c.cid,basePath:a,isExternal:!0}}if("com.whtwnd.blog.entry"===c){let a=await (0,d.ok)(h.get("com.atproto.repo.getRecord",{params:{repo:b,rkey:f,collection:"com.whtwnd.blog.entry"}}));return{type:"whitewind",value:a.value,uri:a.uri,cid:a.cid,isExternal:!1}}return null}async function k(){return(await (0,d.ok)(e.Mc.get("com.atproto.repo.listRecords",{params:{repo:f._.NEXT_PUBLIC_BSKY_DID,collection:"net.mmatt.right.now"}}))).records}function l(a){return"public"===a.value.visibility}function m(a){return!!a.value.publishedAt}async function n(a){let b=g.find(b=>b.endsWith(`/${a}`));if(b){let a=await j(b);if(a)return a}try{let b=await (0,d.ok)(e.Mc.get("com.atproto.repo.getRecord",{params:{repo:f._.NEXT_PUBLIC_BSKY_DID,rkey:a,collection:"com.whtwnd.blog.entry"}}));return{type:"whitewind",value:b.value,uri:b.uri,cid:b.cid}}catch{let b,c=await (0,d.ok)(e.Mc.get("com.atproto.repo.getRecord",{params:{repo:f._.NEXT_PUBLIC_BSKY_DID,rkey:a,collection:"pub.leaflet.document"}})),g=c.value;if(g.publication)try{let a=i(g.publication);b=(await (0,d.ok)(e.Mc.get("com.atproto.repo.getRecord",{params:{repo:a.did,rkey:a.rkey,collection:"pub.leaflet.publication"}}))).value.base_path}catch{}return{type:"leaflet",value:g,uri:c.uri,cid:c.cid,basePath:b}}}async function o(a){let b=await (0,d.ok)(e.Mc.get("com.atproto.repo.listRecords",{params:{repo:f._.NEXT_PUBLIC_BSKY_DID,collection:"net.mmatt.vitals.car",limit:100,cursor:a}}));return{records:b.records,cursor:b.cursor}}},87447:(a,b,c)=>{"use strict";c.d(b,{_:()=>f});var d=c(60063);let e={NODE_ENV:"production",PLAUSIBLE_SITE_ID:process.env.PLAUSIBLE_SITE_ID,PLAUSIBLE_DOMAIN:process.env.PLAUSIBLE_DOMAIN,PLAUSIBLE_API_KEY:process.env.PLAUSIBLE_API_KEY,NEXT_PUBLIC_BSKY_DID:process.env.NEXT_PUBLIC_BSKY_DID,NEXT_PUBLIC_BSKY_PDS:process.env.NEXT_PUBLIC_BSKY_PDS},f=(0,d.cleanEnv)(e,{NODE_ENV:(0,d.str)({choices:["development","production"],default:"production",devDefault:"development"}),PLAUSIBLE_SITE_ID:(0,d.str)({default:"mmatt.net"}),PLAUSIBLE_DOMAIN:(0,d.url)({default:"https://plausible.mmatt.net"}),PLAUSIBLE_API_KEY:(0,d.str)({default:""}),NEXT_PUBLIC_BSKY_DID:(0,d.str)({default:"did:plc:tas6hj2xjrqben5653v5kohk"}),NEXT_PUBLIC_BSKY_PDS:(0,d.url)({default:"https://evil.gay"})})},89033:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},92753:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,14702,23))}};