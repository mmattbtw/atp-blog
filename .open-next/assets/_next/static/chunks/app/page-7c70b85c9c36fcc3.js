(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{18490:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(95155),a=r(52619),l=r.n(a);function s(e){let{href:t,children:r,target:a,rel:s,className:i=""}=e,c=t.startsWith("http")||t.startsWith("mailto:"),o="underline bg-white dark:bg-black hover:text-white hover:bg-black dark:hover:text-black dark:hover:bg-white ".concat(i);return c?(0,n.jsx)("a",{href:t,target:a||"_blank",rel:s||"noopener noreferrer",className:o,children:r}):(0,n.jsx)(l(),{href:t,className:o,children:r})}},23454:(e,t,r)=>{"use strict";r.d(t,{BlogVideoBackground:()=>i,default:()=>s});var n=r(95155),a=r(12115);function l(e){let{videoSrc:t,pixelSize:r=4,ditherStrength:l=1,className:s="",maxWidth:i=640}=e,c=(0,a.useRef)(null),o=(0,a.useRef)(null),u=(0,a.useRef)(0),d=(0,a.useRef)(null),h=(0,a.useRef)(null),m=(0,a.useRef)(null),x=(0,a.useRef)(!1),f=(0,a.useRef)(0),g=(0,a.useRef)(0),v=(0,a.useRef)(0),[p,b]=(0,a.useState)(!1),y=(0,a.useRef)(null),k=(0,a.useRef)(0),[j,w]=(0,a.useState)(!1),N=(0,a.useCallback)(()=>{{let e=window.matchMedia("(prefers-reduced-motion: reduce)");b(e.matches);let t=e=>{b(e.matches)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}},[]),E=(0,a.useCallback)(function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.data,s=t*r;h.current&&h.current.length===s||(h.current=new Float32Array(s));let i=h.current;i.fill(0);for(let e=0;e<a.length;e+=4){let r,s=.299*a[e]+.587*a[e+1]+.114*a[e+2];i[e>>2]=s,r=n?s<128+((e/4%t+Math.floor(e/4/t))%2-.5)*l*10?0:255:s<128+(Math.random()-.5)*l*20?0:255,a[e]=a[e+1]=a[e+2]=r,a[e+3]=255}return e},[l]),P=(0,a.useCallback)(()=>{let e;if(p||j)return;let t=c.current,n=o.current;if(!t||!n||x.current)return;if(x.current=!0,t.paused||t.ended){x.current=!1;return}let a=t.videoWidth,l=t.videoHeight;if(0===a||0===l||(v.current++,v.current%4!=0)){x.current=!1,u.current=requestAnimationFrame(P);return}let s=Math.min(a,i),h=Math.floor(l*s/a);(n.width!==s||n.height!==h)&&(n.width=s,n.height=h,d.current=null),d.current||(d.current=n.getContext("2d",{willReadFrequently:!0,alpha:!1}));let m=d.current;if(!m){x.current=!1;return}let f=Math.floor(s/r),g=Math.floor(h/r);if(f<1||g<1){x.current=!1,u.current=requestAnimationFrame(P);return}try{m.drawImage(t,0,0,f,g),e=m.getImageData(0,0,f,g)}catch(e){console.warn("Canvas manipulation blocked due to CORS policy:",e),w(!0),x.current=!1;return}let b=E(e,f,g,p);m.putImageData(b,0,0),p&&(y.current=b),m.imageSmoothingEnabled=!1,m.drawImage(n,0,0,f,g,0,0,s,h),x.current=!1,u.current=requestAnimationFrame(P)},[r,i,E,p,j]),I=(0,a.useCallback)(()=>{x.current||p||j||(v.current=0,P())},[P,p,j]),L=(0,a.useCallback)(()=>{let e=c.current;!e||e.paused||x.current||p||j||(v.current=0,P())},[P,p,j]),S=(0,a.useCallback)(()=>{let e=c.current;e&&e.loop&&!p&&!j&&(f.current=0,v.current=0,setTimeout(()=>{e.paused||x.current||P()},16))},[P,p,j]),_=(0,a.useCallback)(()=>{if(u.current&&(cancelAnimationFrame(u.current),u.current=0),d.current){let e=o.current;e&&d.current.clearRect(0,0,e.width,e.height),d.current=null}h.current&&(h.current=null),x.current=!1,f.current=0,v.current=0,g.current=0,m.current=null},[]);(0,a.useEffect)(()=>N(),[N]);let D=(0,a.useCallback)(()=>{let e=o.current;if(!e)return;let t=e.getContext("2d");if(!t)return;e.width=640,e.height=360;let r=t.createImageData(640,360),n=r.data;for(let e=0;e<n.length;e+=4){let t=e/4%640,r=Math.floor(e/4/640),a=(t+r)%2,s=128+50*a+Math.sin(.1*t)*Math.cos(.1*r)*9<128+(a-.5)*l*10?0:255;n[e]=n[e+1]=n[e+2]=s,n[e+3]=255}t.putImageData(r,0,0)},[l]);return(0,a.useEffect)(()=>{p?(u.current&&(cancelAnimationFrame(u.current),u.current=0),x.current=!1,D()):(v.current=0,k.current=0,x.current=!1,x.current||P())},[p,P,D]),(0,a.useEffect)(()=>{let e=c.current;if(!e)return;e.addEventListener("play",I),e.addEventListener("playing",I),e.addEventListener("loadedmetadata",L),e.addEventListener("ended",S);let t=()=>{document.hidden?_():e.paused||p||(v.current=0,P())};return document.addEventListener("visibilitychange",t),()=>{_(),e.removeEventListener("play",I),e.removeEventListener("playing",I),e.removeEventListener("loadedmetadata",L),e.removeEventListener("ended",S),document.removeEventListener("visibilitychange",t)}},[I,L,S,_,P,p]),(0,n.jsxs)("div",{className:"relative ".concat(s),children:[(0,n.jsx)("video",{ref:c,src:t,crossOrigin:"anonymous",className:"absolute inset-0 w-full h-full object-cover ".concat(j?"opacity-50":"invisible"," ").concat(p?"reduced-motion":""),autoPlay:!0,loop:!0,muted:!0,playsInline:!0,onError:e=>{console.error("Video error:",e),w(!0)},onLoadStart:()=>console.log("Video loading started"),onLoadedMetadata:()=>console.log("Video metadata loaded")}),(0,n.jsx)("canvas",{ref:o,className:"absolute inset-0 w-full h-full object-cover",style:{imageRendering:"pixelated"}}),j&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 text-white text-sm opacity-75",children:"Video filter unavailable (CORS)"})]})}function s(){return(0,n.jsx)(l,{videoSrc:"https://wh9xsi1isi.ufs.sh/f/3pCuYtORE70iQcTd1tzKQmgchpDLvW6HRVeJosuUikOnjwbf",pixelSize:3,maxFPS:12,maxWidth:1e3,className:"fixed inset-0 w-screen h-screen object-cover -z-10 invert dark:invert-0"})}function i(){return(0,n.jsx)(l,{videoSrc:"https://wh9xsi1isi.ufs.sh/f/3pCuYtORE70iFh1vC2kQTmgCPNMpYynkzK4WXJelbq527Zjo",pixelSize:4,maxFPS:12,maxWidth:1e3,className:"fixed inset-0 w-screen h-screen object-cover -z-10 invert dark:invert-0"})}},64269:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var n=r(2821),a=r(75889);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},74278:(e,t,r)=>{"use strict";r.d(t,{G:()=>m});var n=r(95155),a=r(12115),l=r(33327),s=r(99770),i=r(94132),c=r(74570),o=r(9364),u=r(64269);function d(e){let{prevValue:t,value:r,place:s,transition:i}=e,c=Math.floor(t/s)%10,u=Math.floor(r/s)%10,d=(0,l.z)(c,i);a.useEffect(()=>{d.set(u)},[u,d]);let[m,{height:x}]=(0,o.A)();return(0,n.jsxs)("span",{ref:m,"data-slot":"sliding-number-roller",className:"relative inline-block w-[1ch] overflow-x-visible overflow-y-clip leading-none tabular-nums",children:[(0,n.jsx)("span",{className:"invisible",children:"0"}),Array.from({length:10},(e,t)=>(0,n.jsx)(h,{motionValue:d,number:t,height:x,transition:i},t))]})}function h(e){let{motionValue:t,number:r,height:a,transition:l}=e,c=(0,s.G)(t,e=>{if(!a)return 0;let t=(10+r-e%10)%10,n=t*a;return t>5&&(n-=10*a),n});return a?(0,n.jsx)(i.P.span,{"data-slot":"sliding-number-display",style:{y:c},className:"absolute inset-0 flex items-center justify-center",transition:{...l,type:"spring"},children:r}):(0,n.jsx)("span",{className:"invisible absolute",children:r})}function m(e){var t;let{ref:r,number:l,className:s,inView:i=!1,inViewMargin:o="0px",inViewOnce:h=!0,padStart:m=!1,decimalSeparator:x=".",decimalPlaces:f=0,transition:g={stiffness:200,damping:20,mass:.4},...v}=e,p=a.useRef(null);a.useImperativeHandle(r,()=>p.current);let b=(0,c.W)(p,{once:h,margin:o}),y=!i||b,k=a.useRef(0),j=a.useMemo(()=>y?Math.abs(Number(l)):0,[l,y]),w=a.useCallback(e=>null!=f?e.toFixed(f):e.toString(),[f]),[N,E=""]=w(j).split("."),P=m&&(null==N?void 0:N.length)===1?"0"+N:N,[I="",L=""]=w(k.current).split("."),S=m&&1===I.length?"0"+I:I,_=a.useMemo(()=>{var e,t,r;return S.length>(null!=(e=null==P?void 0:P.length)?e:0)?S.slice(-(null!=(t=null==P?void 0:P.length)?t:0)):S.padStart(null!=(r=null==P?void 0:P.length)?r:0,"0")},[S,P]),D=a.useMemo(()=>E?L.length>E.length?L.slice(0,E.length):L.padEnd(E.length,"0"):"",[L,E]);a.useEffect(()=>{y&&(k.current=j)},[j,y]);let A=null!=(t=null==P?void 0:P.length)?t:0,C=a.useMemo(()=>Array.from({length:A},(e,t)=>Math.pow(10,A-t-1)),[A]),R=a.useMemo(()=>E?Array.from({length:E.length},(e,t)=>Math.pow(10,E.length-t-1)):[],[E]),B=E?parseInt(E,10):0,M=D?parseInt(D,10):0;return(0,n.jsxs)("span",{ref:p,"data-slot":"sliding-number",className:(0,u.cn)("flex items-center",s),...v,children:[y&&0>Number(l)&&(0,n.jsx)("span",{className:"mr-1",children:"-"}),C.map(e=>(0,n.jsx)(d,{prevValue:parseInt(_,10),value:parseInt(null!=P?P:"0",10),place:e,transition:g},"int-".concat(e))),E&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:x}),R.map(e=>(0,n.jsx)(d,{prevValue:M,value:B,place:e,transition:g},"dec-".concat(e)))]})]})}},78504:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var n=r(95155),a=r(12115),l=r(79663),s=r(87358);let i={NODE_ENV:"production",PLAUSIBLE_SITE_ID:s.env.PLAUSIBLE_SITE_ID,PLAUSIBLE_DOMAIN:s.env.PLAUSIBLE_DOMAIN,PLAUSIBLE_API_KEY:s.env.PLAUSIBLE_API_KEY,NEXT_PUBLIC_BSKY_DID:s.env.NEXT_PUBLIC_BSKY_DID,NEXT_PUBLIC_BSKY_PDS:s.env.NEXT_PUBLIC_BSKY_PDS},c=(0,l.cleanEnv)(i,{NODE_ENV:(0,l.str)({choices:["development","production"],default:"production",devDefault:"development"}),PLAUSIBLE_SITE_ID:(0,l.str)({default:"mmatt.net"}),PLAUSIBLE_DOMAIN:(0,l.url)({default:"https://plausible.mmatt.net"}),PLAUSIBLE_API_KEY:(0,l.str)({default:""}),NEXT_PUBLIC_BSKY_DID:(0,l.str)({default:"did:plc:tas6hj2xjrqben5653v5kohk"}),NEXT_PUBLIC_BSKY_PDS:(0,l.url)({default:"https://evil.gay"})});var o=r(68072),u=r(64269);(0,r(83101).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});let d=a.createContext(null);function h(){let e=a.useContext(d);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}function m(e){let{orientation:t="horizontal",opts:r,setApi:l,plugins:s,className:i,children:c,...h}=e,[m,x]=(0,o.A)({...r,axis:"horizontal"===t?"x":"y"},s),[f,g]=a.useState(!1),[v,p]=a.useState(!1),b=a.useCallback(e=>{e&&(g(e.canScrollPrev()),p(e.canScrollNext()))},[]),y=a.useCallback(()=>{null==x||x.scrollPrev()},[x]),k=a.useCallback(()=>{null==x||x.scrollNext()},[x]),j=a.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),y()):"ArrowRight"===e.key&&(e.preventDefault(),k())},[y,k]);return a.useEffect(()=>{x&&l&&l(x)},[x,l]),a.useEffect(()=>{if(x)return b(x),x.on("reInit",b),x.on("select",b),()=>{null==x||x.off("select",b)}},[x,b]),(0,n.jsx)(d.Provider,{value:{carouselRef:m,api:x,opts:r,orientation:t||((null==r?void 0:r.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:k,canScrollPrev:f,canScrollNext:v},children:(0,n.jsx)("div",{onKeyDownCapture:j,className:(0,u.cn)("relative",i),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...h,children:c})})}function x(e){let{className:t,...r}=e,{carouselRef:a,orientation:l}=h();return(0,n.jsx)("div",{ref:a,className:"overflow-hidden","data-slot":"carousel-content",children:(0,n.jsx)("div",{className:(0,u.cn)("flex","horizontal"===l?"-ml-4":"-mt-4 flex-col",t),...r})})}function f(e){let{className:t,...r}=e,{orientation:a}=h();return(0,n.jsx)("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:(0,u.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===a?"pl-4":"pt-4",t),...r})}var g=r(18490),v=r(74278);function p(e){var t,r,l,s;let{data:i}=e,[o,u]=(0,a.useState)(),d=[...i.carInfo?[{id:"car",title:"My Car",content:(0,n.jsxs)("div",{className:"text-xs text-black dark:text-white",children:[(0,n.jsxs)("p",{children:["Range:"," ",(0,n.jsx)(v.G,{number:i.carInfo.carFuelRange,inView:!0})]}),(0,n.jsxs)("p",{children:["Fuel:"," ",(0,n.jsx)(v.G,{number:i.carInfo.carPercentFuelRemaining,decimalPlaces:1,inView:!0})]}),(0,n.jsxs)("p",{children:["Remaining:"," ",(0,n.jsx)(v.G,{number:i.carInfo.amountRemaining,decimalPlaces:1,inView:!0})]}),(0,n.jsxs)("p",{children:["Distance:"," ",(0,n.jsx)(v.G,{number:i.carInfo.carTraveledDistance,inView:!0})]}),(0,n.jsx)(g.A,{href:"/car",className:"underline",children:"View Car Stats"})]})}]:[],...i.blogPost&&i.blogPostRkey?[{id:"blog",title:"Latest Blog Post",content:(0,n.jsxs)("div",{className:"space-y-1 text-xs text-black dark:text-white",children:[(0,n.jsxs)(g.A,{href:"/post/".concat(i.blogPostRkey),children:[i.blogPost.title||"Untitled Post",(0,n.jsx)("br",{})]}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:i.blogPost.description}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:new Date(null!=(s=i.blogPost.createdAt)?s:"").toLocaleDateString()})]})}]:[],...i.blueskyPost&&i.blueskyPostRkey?[{id:"bluesky",title:"Latest Bluesky Post",content:(0,n.jsxs)("div",{className:"space-y-1 text-xs text-black dark:text-white",children:[(0,n.jsx)(g.A,{href:"https://bsky.app/profile/".concat(c.NEXT_PUBLIC_BSKY_DID,"/post/").concat(i.blueskyPostRkey),children:i.blueskyPost.text.length>100?"".concat(i.blueskyPost.text.substring(0,100),"..."):i.blueskyPost.text}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:new Date(i.blueskyPost.createdAt).toLocaleDateString()})]})}]:[],...i.tealPlay?[{id:"teal",title:"Latest Teal.fm Play",content:(0,n.jsxs)("div",{className:"space-y-1 text-xs text-black dark:text-white",children:[(0,n.jsx)("p",{className:"font-medium",children:i.tealPlay.trackName||"Unknown Track"}),(0,n.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["by"," ",(null==(t=i.tealPlay.artistNames)?void 0:t[0])||(null==(l=i.tealPlay.artists)||null==(r=l[0])?void 0:r.artistName)||"Unknown Artist"]}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:i.tealPlay.playedTime?new Date(i.tealPlay.playedTime).toLocaleDateString():"Unknown date"})]})}]:[],...i.letterboxdEntry?[{id:"letterboxd",title:"Latest Letterboxd Watch",content:(0,n.jsxs)("div",{className:"space-y-1 text-xs text-black dark:text-white",children:[(0,n.jsx)(g.A,{href:i.letterboxdEntry.link,children:i.letterboxdEntry.title}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:new Date(i.letterboxdEntry.pubDate).toLocaleDateString()}),i.letterboxdEntry.description&&(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(()=>{let e=i.letterboxdEntry.description.replace(/<[^>]*>/g,"");return e.length>80?"".concat(e.substring(0,80),"..."):e})()})]})}]:[],...i.nowEntry?[{id:"now",title:"Latest Status",content:(0,n.jsxs)("div",{className:"space-y-1 text-xs text-black dark:text-white",children:[(0,n.jsxs)("p",{className:"font-medium",children:[i.nowEntry.emoji&&(0,n.jsx)("span",{className:"mr-1",children:i.nowEntry.emoji}),i.nowEntry.text]}),(0,n.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:new Date(i.nowEntry.createdAt).toLocaleDateString()})]})}]:[]];return((0,a.useEffect)(()=>{if(!o||d.length<=1)return;let e=setInterval(()=>{o.scrollNext()},5e3);return()=>clearInterval(e)},[o,d.length]),0===d.length)?null:(0,n.jsx)("div",{className:"w-56 h-48 dark:border-white border-black border-2 rounded-lg bg-white dark:bg-black overflow-hidden",children:(0,n.jsx)(m,{className:"w-full h-full",opts:{loop:!0},setApi:u,children:(0,n.jsx)(x,{className:"h-full",children:d.map(e=>(0,n.jsx)(f,{className:"h-full px-6 py-3",children:(0,n.jsxs)("div",{className:"flex flex-col h-full",children:[(0,n.jsx)("h2",{className:"text-sm font-bold mb-2 text-black dark:text-white",children:e.title}),(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:e.content})]})},e.id))})})})}},85496:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,52619,23)),Promise.resolve().then(r.bind(r,23454)),Promise.resolve().then(r.bind(r,78504))}},e=>{e.O(0,[619,775,890,441,255,358],()=>e(e.s=85496)),_N_E=e.O()}]);